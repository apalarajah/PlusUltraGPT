{"ast":null,"code":"import createMachine from\"./fsm.js\";var createOverlayMachine=function createOverlayMachine(options){var hideOverlay=options.hideOverlay,showOverlay=options.showOverlay;var overlayMachine=createMachine({initial:\"hidden\",context:{level:\"error\",messages:[],messageSource:\"build\"},states:{hidden:{on:{BUILD_ERROR:{target:\"displayBuildError\",actions:[\"setMessages\",\"showOverlay\"]},RUNTIME_ERROR:{target:\"displayRuntimeError\",actions:[\"setMessages\",\"showOverlay\"]}}},displayBuildError:{on:{DISMISS:{target:\"hidden\",actions:[\"dismissMessages\",\"hideOverlay\"]},BUILD_ERROR:{target:\"displayBuildError\",actions:[\"appendMessages\",\"showOverlay\"]}}},displayRuntimeError:{on:{DISMISS:{target:\"hidden\",actions:[\"dismissMessages\",\"hideOverlay\"]},RUNTIME_ERROR:{target:\"displayRuntimeError\",actions:[\"appendMessages\",\"showOverlay\"]},BUILD_ERROR:{target:\"displayBuildError\",actions:[\"setMessages\",\"showOverlay\"]}}}}},{actions:{dismissMessages:function dismissMessages(){return{messages:[],level:\"error\",messageSource:\"build\"};},appendMessages:function appendMessages(context,event){return{messages:context.messages.concat(event.messages),level:event.level||context.level,messageSource:event.type===\"RUNTIME_ERROR\"?\"runtime\":\"build\"};},setMessages:function setMessages(context,event){return{messages:event.messages,level:event.level||context.level,messageSource:event.type===\"RUNTIME_ERROR\"?\"runtime\":\"build\"};},hideOverlay:hideOverlay,showOverlay:showOverlay}});return overlayMachine;};export default createOverlayMachine;","map":{"version":3,"names":["createMachine","createOverlayMachine","options","hideOverlay","showOverlay","overlayMachine","initial","context","level","messages","messageSource","states","hidden","on","BUILD_ERROR","target","actions","RUNTIME_ERROR","displayBuildError","DISMISS","displayRuntimeError","dismissMessages","appendMessages","event","concat","type","setMessages"],"sources":["C:/Users/a_pal/AppData/Roaming/npm/node_modules/expo-cli/node_modules/webpack-dev-server/client/overlay/state-machine.js"],"sourcesContent":["import createMachine from \"./fsm.js\";\n\n/**\n * @typedef {Object} ShowOverlayData\n * @property {'warning' | 'error'} level\n * @property {Array<string  | { moduleIdentifier?: string, moduleName?: string, loc?: string, message?: string }>} messages\n * @property {'build' | 'runtime'} messageSource\n */\n\n/**\n * @typedef {Object} CreateOverlayMachineOptions\n * @property {(data: ShowOverlayData) => void} showOverlay\n * @property {() => void} hideOverlay\n */\n\n/**\n * @param {CreateOverlayMachineOptions} options\n */\nvar createOverlayMachine = function createOverlayMachine(options) {\n  var hideOverlay = options.hideOverlay,\n    showOverlay = options.showOverlay;\n  var overlayMachine = createMachine({\n    initial: \"hidden\",\n    context: {\n      level: \"error\",\n      messages: [],\n      messageSource: \"build\"\n    },\n    states: {\n      hidden: {\n        on: {\n          BUILD_ERROR: {\n            target: \"displayBuildError\",\n            actions: [\"setMessages\", \"showOverlay\"]\n          },\n          RUNTIME_ERROR: {\n            target: \"displayRuntimeError\",\n            actions: [\"setMessages\", \"showOverlay\"]\n          }\n        }\n      },\n      displayBuildError: {\n        on: {\n          DISMISS: {\n            target: \"hidden\",\n            actions: [\"dismissMessages\", \"hideOverlay\"]\n          },\n          BUILD_ERROR: {\n            target: \"displayBuildError\",\n            actions: [\"appendMessages\", \"showOverlay\"]\n          }\n        }\n      },\n      displayRuntimeError: {\n        on: {\n          DISMISS: {\n            target: \"hidden\",\n            actions: [\"dismissMessages\", \"hideOverlay\"]\n          },\n          RUNTIME_ERROR: {\n            target: \"displayRuntimeError\",\n            actions: [\"appendMessages\", \"showOverlay\"]\n          },\n          BUILD_ERROR: {\n            target: \"displayBuildError\",\n            actions: [\"setMessages\", \"showOverlay\"]\n          }\n        }\n      }\n    }\n  }, {\n    actions: {\n      dismissMessages: function dismissMessages() {\n        return {\n          messages: [],\n          level: \"error\",\n          messageSource: \"build\"\n        };\n      },\n      appendMessages: function appendMessages(context, event) {\n        return {\n          messages: context.messages.concat(event.messages),\n          level: event.level || context.level,\n          messageSource: event.type === \"RUNTIME_ERROR\" ? \"runtime\" : \"build\"\n        };\n      },\n      setMessages: function setMessages(context, event) {\n        return {\n          messages: event.messages,\n          level: event.level || context.level,\n          messageSource: event.type === \"RUNTIME_ERROR\" ? \"runtime\" : \"build\"\n        };\n      },\n      hideOverlay: hideOverlay,\n      showOverlay: showOverlay\n    }\n  });\n  return overlayMachine;\n};\nexport default createOverlayMachine;"],"mappings":"AAAA,MAAO,CAAAA,aAAa,gBAkBpB,GAAI,CAAAC,oBAAoB,CAAG,QAAS,CAAAA,oBAAoBA,CAACC,OAAO,CAAE,CAChE,GAAI,CAAAC,WAAW,CAAGD,OAAO,CAACC,WAAW,CACnCC,WAAW,CAAGF,OAAO,CAACE,WAAW,CACnC,GAAI,CAAAC,cAAc,CAAGL,aAAa,CAAC,CACjCM,OAAO,CAAE,QAAQ,CACjBC,OAAO,CAAE,CACPC,KAAK,CAAE,OAAO,CACdC,QAAQ,CAAE,EAAE,CACZC,aAAa,CAAE,OACjB,CAAC,CACDC,MAAM,CAAE,CACNC,MAAM,CAAE,CACNC,EAAE,CAAE,CACFC,WAAW,CAAE,CACXC,MAAM,CAAE,mBAAmB,CAC3BC,OAAO,CAAE,CAAC,aAAa,CAAE,aAAa,CACxC,CAAC,CACDC,aAAa,CAAE,CACbF,MAAM,CAAE,qBAAqB,CAC7BC,OAAO,CAAE,CAAC,aAAa,CAAE,aAAa,CACxC,CACF,CACF,CAAC,CACDE,iBAAiB,CAAE,CACjBL,EAAE,CAAE,CACFM,OAAO,CAAE,CACPJ,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CAAC,iBAAiB,CAAE,aAAa,CAC5C,CAAC,CACDF,WAAW,CAAE,CACXC,MAAM,CAAE,mBAAmB,CAC3BC,OAAO,CAAE,CAAC,gBAAgB,CAAE,aAAa,CAC3C,CACF,CACF,CAAC,CACDI,mBAAmB,CAAE,CACnBP,EAAE,CAAE,CACFM,OAAO,CAAE,CACPJ,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CAAC,iBAAiB,CAAE,aAAa,CAC5C,CAAC,CACDC,aAAa,CAAE,CACbF,MAAM,CAAE,qBAAqB,CAC7BC,OAAO,CAAE,CAAC,gBAAgB,CAAE,aAAa,CAC3C,CAAC,CACDF,WAAW,CAAE,CACXC,MAAM,CAAE,mBAAmB,CAC3BC,OAAO,CAAE,CAAC,aAAa,CAAE,aAAa,CACxC,CACF,CACF,CACF,CACF,CAAC,CAAE,CACDA,OAAO,CAAE,CACPK,eAAe,CAAE,QAAS,CAAAA,eAAeA,CAAA,CAAG,CAC1C,MAAO,CACLZ,QAAQ,CAAE,EAAE,CACZD,KAAK,CAAE,OAAO,CACdE,aAAa,CAAE,OACjB,CAAC,CACH,CAAC,CACDY,cAAc,CAAE,QAAS,CAAAA,cAAcA,CAACf,OAAO,CAAEgB,KAAK,CAAE,CACtD,MAAO,CACLd,QAAQ,CAAEF,OAAO,CAACE,QAAQ,CAACe,MAAM,CAACD,KAAK,CAACd,QAAQ,CAAC,CACjDD,KAAK,CAAEe,KAAK,CAACf,KAAK,EAAID,OAAO,CAACC,KAAK,CACnCE,aAAa,CAAEa,KAAK,CAACE,IAAI,GAAK,eAAe,CAAG,SAAS,CAAG,OAC9D,CAAC,CACH,CAAC,CACDC,WAAW,CAAE,QAAS,CAAAA,WAAWA,CAACnB,OAAO,CAAEgB,KAAK,CAAE,CAChD,MAAO,CACLd,QAAQ,CAAEc,KAAK,CAACd,QAAQ,CACxBD,KAAK,CAAEe,KAAK,CAACf,KAAK,EAAID,OAAO,CAACC,KAAK,CACnCE,aAAa,CAAEa,KAAK,CAACE,IAAI,GAAK,eAAe,CAAG,SAAS,CAAG,OAC9D,CAAC,CACH,CAAC,CACDtB,WAAW,CAAEA,WAAW,CACxBC,WAAW,CAAEA,WACf,CACF,CAAC,CAAC,CACF,MAAO,CAAAC,cAAc,CACvB,CAAC,CACD,cAAe,CAAAJ,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}