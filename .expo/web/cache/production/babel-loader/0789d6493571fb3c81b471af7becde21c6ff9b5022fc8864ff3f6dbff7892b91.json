{"ast":null,"code":"function format(objURL){var protocol=objURL.protocol||\"\";if(protocol&&protocol.substr(-1)!==\":\"){protocol+=\":\";}var auth=objURL.auth||\"\";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,\":\");auth+=\"@\";}var host=\"\";if(objURL.hostname){host=auth+(objURL.hostname.indexOf(\":\")===-1?objURL.hostname:\"[\".concat(objURL.hostname,\"]\"));if(objURL.port){host+=\":\".concat(objURL.port);}}var pathname=objURL.pathname||\"\";if(objURL.slashes){host=\"//\".concat(host||\"\");if(pathname&&pathname.charAt(0)!==\"/\"){pathname=\"/\".concat(pathname);}}else if(!host){host=\"\";}var search=objURL.search||\"\";if(search&&search.charAt(0)!==\"?\"){search=\"?\".concat(search);}var hash=objURL.hash||\"\";if(hash&&hash.charAt(0)!==\"#\"){hash=\"#\".concat(hash);}pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match);});search=search.replace(\"#\",\"%23\");return\"\".concat(protocol).concat(host).concat(pathname).concat(search).concat(hash);}function createSocketURL(parsedURL){var hostname=parsedURL.hostname;var isInAddrAny=hostname===\"0.0.0.0\"||hostname===\"::\"||hostname===\"[::]\";if(isInAddrAny&&self.location.hostname&&self.location.protocol.indexOf(\"http\")===0){hostname=self.location.hostname;}var socketURLProtocol=parsedURL.protocol||self.location.protocol;if(socketURLProtocol===\"auto:\"||hostname&&isInAddrAny&&self.location.protocol===\"https:\"){socketURLProtocol=self.location.protocol;}socketURLProtocol=socketURLProtocol.replace(/^(?:http|.+-extension|file)/i,\"ws\");var socketURLAuth=\"\";if(parsedURL.username){socketURLAuth=parsedURL.username;if(parsedURL.password){socketURLAuth=socketURLAuth.concat(\":\",parsedURL.password);}}var socketURLHostname=(hostname||self.location.hostname||\"localhost\").replace(/^\\[(.*)\\]$/,\"$1\");var socketURLPort=parsedURL.port;if(!socketURLPort||socketURLPort===\"0\"){socketURLPort=self.location.port;}var socketURLPathname=\"/ws\";if(parsedURL.pathname&&!parsedURL.fromCurrentScript){socketURLPathname=parsedURL.pathname;}return format({protocol:socketURLProtocol,auth:socketURLAuth,hostname:socketURLHostname,port:socketURLPort,pathname:socketURLPathname,slashes:true});}export default createSocketURL;","map":{"version":3,"names":["format","objURL","protocol","substr","auth","encodeURIComponent","replace","host","hostname","indexOf","concat","port","pathname","slashes","charAt","search","hash","match","createSocketURL","parsedURL","isInAddrAny","self","location","socketURLProtocol","socketURLAuth","username","password","socketURLHostname","socketURLPort","socketURLPathname","fromCurrentScript"],"sources":["C:/Users/a_pal/AppData/Roaming/npm/node_modules/expo-cli/node_modules/webpack-dev-server/client/utils/createSocketURL.js"],"sourcesContent":["/**\n * @param {{ protocol?: string, auth?: string, hostname?: string, port?: string, pathname?: string, search?: string, hash?: string, slashes?: boolean }} objURL\n * @returns {string}\n */\nfunction format(objURL) {\n  var protocol = objURL.protocol || \"\";\n  if (protocol && protocol.substr(-1) !== \":\") {\n    protocol += \":\";\n  }\n  var auth = objURL.auth || \"\";\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, \":\");\n    auth += \"@\";\n  }\n  var host = \"\";\n  if (objURL.hostname) {\n    host = auth + (objURL.hostname.indexOf(\":\") === -1 ? objURL.hostname : \"[\".concat(objURL.hostname, \"]\"));\n    if (objURL.port) {\n      host += \":\".concat(objURL.port);\n    }\n  }\n  var pathname = objURL.pathname || \"\";\n  if (objURL.slashes) {\n    host = \"//\".concat(host || \"\");\n    if (pathname && pathname.charAt(0) !== \"/\") {\n      pathname = \"/\".concat(pathname);\n    }\n  } else if (!host) {\n    host = \"\";\n  }\n  var search = objURL.search || \"\";\n  if (search && search.charAt(0) !== \"?\") {\n    search = \"?\".concat(search);\n  }\n  var hash = objURL.hash || \"\";\n  if (hash && hash.charAt(0) !== \"#\") {\n    hash = \"#\".concat(hash);\n  }\n  pathname = pathname.replace(/[?#]/g,\n  /**\n   * @param {string} match\n   * @returns {string}\n   */\n  function (match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace(\"#\", \"%23\");\n  return \"\".concat(protocol).concat(host).concat(pathname).concat(search).concat(hash);\n}\n\n/**\n * @param {URL & { fromCurrentScript?: boolean }} parsedURL\n * @returns {string}\n */\nfunction createSocketURL(parsedURL) {\n  var hostname = parsedURL.hostname;\n\n  // Node.js module parses it as `::`\n  // `new URL(urlString, [baseURLString])` parses it as '[::]'\n  var isInAddrAny = hostname === \"0.0.0.0\" || hostname === \"::\" || hostname === \"[::]\";\n\n  // why do we need this check?\n  // hostname n/a for file protocol (example, when using electron, ionic)\n  // see: https://github.com/webpack/webpack-dev-server/pull/384\n  if (isInAddrAny && self.location.hostname && self.location.protocol.indexOf(\"http\") === 0) {\n    hostname = self.location.hostname;\n  }\n  var socketURLProtocol = parsedURL.protocol || self.location.protocol;\n\n  // When https is used in the app, secure web sockets are always necessary because the browser doesn't accept non-secure web sockets.\n  if (socketURLProtocol === \"auto:\" || hostname && isInAddrAny && self.location.protocol === \"https:\") {\n    socketURLProtocol = self.location.protocol;\n  }\n  socketURLProtocol = socketURLProtocol.replace(/^(?:http|.+-extension|file)/i, \"ws\");\n  var socketURLAuth = \"\";\n\n  // `new URL(urlString, [baseURLstring])` doesn't have `auth` property\n  // Parse authentication credentials in case we need them\n  if (parsedURL.username) {\n    socketURLAuth = parsedURL.username;\n\n    // Since HTTP basic authentication does not allow empty username,\n    // we only include password if the username is not empty.\n    if (parsedURL.password) {\n      // Result: <username>:<password>\n      socketURLAuth = socketURLAuth.concat(\":\", parsedURL.password);\n    }\n  }\n\n  // In case the host is a raw IPv6 address, it can be enclosed in\n  // the brackets as the brackets are needed in the final URL string.\n  // Need to remove those as url.format blindly adds its own set of brackets\n  // if the host string contains colons. That would lead to non-working\n  // double brackets (e.g. [[::]]) host\n  //\n  // All of these web socket url params are optionally passed in through resourceQuery,\n  // so we need to fall back to the default if they are not provided\n  var socketURLHostname = (hostname || self.location.hostname || \"localhost\").replace(/^\\[(.*)\\]$/, \"$1\");\n  var socketURLPort = parsedURL.port;\n  if (!socketURLPort || socketURLPort === \"0\") {\n    socketURLPort = self.location.port;\n  }\n\n  // If path is provided it'll be passed in via the resourceQuery as a\n  // query param so it has to be parsed out of the querystring in order for the\n  // client to open the socket to the correct location.\n  var socketURLPathname = \"/ws\";\n  if (parsedURL.pathname && !parsedURL.fromCurrentScript) {\n    socketURLPathname = parsedURL.pathname;\n  }\n  return format({\n    protocol: socketURLProtocol,\n    auth: socketURLAuth,\n    hostname: socketURLHostname,\n    port: socketURLPort,\n    pathname: socketURLPathname,\n    slashes: true\n  });\n}\nexport default createSocketURL;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}